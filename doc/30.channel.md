# channel

## 创建

```go
unBufferChan := make(chan int)  // 1
bufferChan := make(chan int, N) // 2
```
##  读写

```go
ch := make(chan int, 10)
// 读操作
x <- ch
// 写操作
ch <- x
```
## 关闭

```go
ch := make(chan int)

// 关闭
close(ch)
```

## 判断是关闭还是空

```go
ch := make(chan int, 10)
...
close(ch)

// ok-idiom
val, ok := <-ch
if ok == false {
    // channel closed
}
```

## timeout

```go
select {
  case <- ch:
    // get data from ch
  case <- time.After(2 * time.Second)
    // read data from ch timeout
}
```

## 单向 channel

```go
func foo(ch chan<- int) <-chan int {...}
传入的只能写 传出的只能读

```